{% extends "main/layout.html" %}


{% block breadcrump %}
<!-- Arrow -->
<span class="mx-5 text-orange-400 rotate-180">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
    </svg>
</span>

<a href="{% url 'main:employees' group.id %}" class="flex items-center p-2 font-bold text-orange-400 transition-all rounded hover:bg-orange-400 hover:text-white">
    <svg class="w-6 h-6 mx-2" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"></path>
    </svg>

    <span class="mx-2">{{ group.title }}</span>
</a>

<!-- Arrow -->
<span class="mx-5 text-orange-400 rotate-180">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
    </svg>
</span>

<a href="" class="flex items-center p-2 font-bold text-orange-400 transition-all rounded hover:bg-orange-400 hover:text-white">
    <svg class="w-6 h-6 mx-2" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
        <path d="M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm2 96a72 72 0 11-72 72 72 72 0 0172-72zm-2 288a175.55 175.55 0 01-129.18-56.6C135.66 329.62 215.06 320 256 320s120.34 9.62 129.18 55.39A175.52 175.52 0 01256 432z"></path>
    </svg>

    <span class="mx-2">{{ employee.name }}</span>
</a>
{% endblock %}




{% block body %}
<div class="mx-auto" x-data="{ modalOpen: false }">
    <div class="py-8">
        <div>
            <h2 class="mb-4 text-2xl font-semibold leading-tight">{{ employee.name }}</h2>
        </div>


        <div class="flex flex-col justify-between my-2 sm:flex-row">
            <div class="flex flex-row mb-1 sm:mb-0">
                <!-- Years dropdown -->
                <div
                    x-data="{ dropdownOpen: false}"
                    @click.outside="dropdownOpen = false"
                    class="relative inline-block text-right"
                >

                    <!-- Dropdown button -->
                    <button
                        @click="dropdownOpen = !dropdownOpen"
                        class="flex items-center px-5 py-3 font-semibold text-white bg-orange-400 rounded"
                    >
                        {{ current_year.title }}
                    <span class="pr-2">
                        <svg width="12" height="7" viewBox="0 0 12 7" class="fill-current">
                        <path
                            d="M0.564864 0.879232C0.564864 0.808624 0.600168 0.720364 0.653125 0.667408C0.776689 0.543843 0.970861 0.543844 1.09443 0.649756L5.82517 5.09807C5.91343 5.18633 6.07229 5.18633 6.17821 5.09807L10.9089 0.649756C11.0325 0.526192 11.2267 0.543844 11.3502 0.667408C11.4738 0.790972 11.4562 0.985145 11.3326 1.10871L6.60185 5.55702C6.26647 5.85711 5.73691 5.85711 5.41917 5.55702L0.670776 1.10871C0.600168 1.0381 0.564864 0.967492 0.564864 0.879232Z"
                        />
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M1.4719 0.229332L6.00169 4.48868L10.5171 0.24288C10.9015 -0.133119 11.4504 -0.0312785 11.7497 0.267983C12.1344 0.652758 12.0332 1.2069 11.732 1.50812L11.7197 1.52041L6.97862 5.9781C6.43509 6.46442 5.57339 6.47872 5.03222 5.96853C5.03192 5.96825 5.03252 5.96881 5.03222 5.96853L0.271144 1.50833C0.123314 1.3605 -5.04223e-08 1.15353 -3.84322e-08 0.879226C-2.88721e-08 0.660517 0.0936127 0.428074 0.253705 0.267982C0.593641 -0.0719548 1.12269 -0.0699964 1.46204 0.220873L1.4719 0.229332ZM5.41917 5.55702C5.73691 5.85711 6.26647 5.85711 6.60185 5.55702L11.3326 1.10871C11.4562 0.985145 11.4738 0.790972 11.3502 0.667408C11.2267 0.543844 11.0325 0.526192 10.9089 0.649756L6.17821 5.09807C6.07229 5.18633 5.91343 5.18633 5.82517 5.09807L1.09443 0.649756C0.970861 0.543844 0.776689 0.543843 0.653125 0.667408C0.600168 0.720364 0.564864 0.808624 0.564864 0.879232C0.564864 0.967492 0.600168 1.0381 0.670776 1.10871L5.41917 5.55702Z"
                        />
                        </svg>
                    </span>
                    </button>

                    <div
                        x-show="dropdownOpen"
                        x-transition:enter-start="opacity-0"
                        x-transition:enter-end="opacity-100"
                        x-transition:leave-start="opacity-100"
                        x-transition:leave-end="opacity-0"
                        :class="dropdownOpen ? 'top-full' : 'top-[110%]' "
                        class="absolute right-0 z-10 w-full mt-2 transition-all bg-white border rounded min-w-max"
                    >
                        {% for year in employee.years.all %}
                            {% if year.id != current_year.id %}
                                {% if year.months.all %}
                                <div 
                                    x-data="{ optionsOpen{{ year.id }}: false}"
                                    class="relative flex items-center justify-between px-3 py-2 font-semibold hover:bg-orange-400 hover:text-orange-400 hover:bg-opacity-5"
                                >
                                    <a href="{% url 'main:profile' employee.group.id employee.id year.id year.months.first.id %}">
                                        {{ year.title }}
                                    </a>

                                    <!-- Options button -->
                                    <div
                                        @click.outside="optionsOpen{{ year.id }} = false"
                                        @click="optionsOpen{{ year.id }} = !optionsOpen{{ year.id }}"
                                        class="text-orange-400 cursor-pointer"
                                    >
                                        <div class="transition-all rounded-full hover:bg-gray-100">
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                            </svg>
                                        </div>
                                    </div>

                                    <!-- Options menu -->
                                    <div 
                                        x-show="optionsOpen{{ year.id }}"
                                        x-transition:enter-start="opacity-0"
                                        x-transition:enter-end="opacity-100"
                                        x-transition:leave-start="opacity-100"
                                        x-transition:leave-end="opacity-0"
                                        :class="optionsOpen{{ year.id }} ? 'mt-5' : 'mt-0' "
                                        class="absolute z-10 mt-2 transition-all bg-white border rounded top-5 -left-7"
                                    >
                                            <div 
                                                @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                                onclick="updateYear(
                                                    '{% url 'main:updateYear' group.id year.id employee.id current_year.id current_month.id  %}',
                                                    '{{ year.title }}'
                                                )"
                                                class="flex items-center justify-start px-4 py-2 text-black cursor-pointer gap-x-2 hover:bg-gray-100"
                                            >
                                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path d="M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21 1 1 0 0 0 4 21zM18 4.41 19.59 6 18 7.59 16.42 6zM5.91 16.51 15 7.41 16.59 9l-9.1 9.1-2.11.52z"></path></svg>
                                                <span>تعديل</span>
                                            </div>
                                            <div 
                                                @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                                onclick="deleteYear('{% url 'main:deleteYear' group.id year.id %}')"
                                                class="flex items-center px-4 py-2 text-red-400 cursor-pointer gap-x-2 hover:bg-gray-100"
                                            >
                                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
                                                <span>حــذف</span>
                                            </div>
                                    </div>
                                </div>
                                {% else %}
                                <span
                                    @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                    onclick="addMonthBefore(
                                        '{% url 'main:initMonth' employee.group.id %}',
                                        '{{ year.id }}'
                                    )"
                                    class="relative flex items-center justify-between px-3 py-2 font-semibold cursor-pointer hover:bg-orange-400 hover:text-orange-400 hover:bg-opacity-5"
                                >
                                    {{ year.title }}
                                </span>
                                {% endif %}
                            {% else %}
                            <span 
                                x-data="{ optionsOpen: false}"
                                @click.outside="optionsOpen = false"
                                class="relative flex items-center justify-between px-3 py-2 font-semibold text-orange-400 bg-orange-400 cursor-default bg-opacity-5"
                            >
                                {{ year.title }}

                                <!-- Options button -->
                                <div
                                    @click="optionsOpen = !optionsOpen"
                                    class="text-orange-400 cursor-pointer"
                                >
                                    <div class="transition-all rounded-full hover:bg-gray-100">
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                        </svg>
                                    </div>
                                </div>

                                <!-- Options menu -->
                                <div 
                                    x-show="optionsOpen"
                                    x-transition:enter-start="opacity-0"
                                    x-transition:enter-end="opacity-100"
                                    x-transition:leave-start="opacity-100"
                                    x-transition:leave-end="opacity-0"
                                    :class="optionsOpen ? 'mt-5' : 'mt-0' "
                                    class="absolute z-10 mt-2 transition-all bg-white border rounded top-5 -left-7"
                                >
                                        <div 
                                            @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                            onclick="updateYear(
                                                    '{% url 'main:updateYear' group.id year.id employee.id current_year.id current_month.id  %}',
                                                    '{{ year.title }}'
                                            )"
                                            class="flex items-center justify-start px-4 py-2 text-black cursor-pointer gap-x-2 hover:bg-gray-100"
                                        >
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path d="M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21 1 1 0 0 0 4 21zM18 4.41 19.59 6 18 7.59 16.42 6zM5.91 16.51 15 7.41 16.59 9l-9.1 9.1-2.11.52z"></path></svg>
                                            <span>تعديل</span>
                                        </div>
                                        <div 
                                            @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                            onclick="deleteYear('{% url 'main:deleteYear' group.id year.id %}')"
                                            class="flex items-center px-4 py-2 text-red-400 cursor-pointer gap-x-2 hover:bg-gray-100"
                                        >
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
                                            <span>حــذف</span>
                                        </div>
                                </div>

                            </span>
                            {% endif %}
                        {% endfor %}
                        <span
                            class="flex items-center justify-center py-2 text-black cursor-pointer hover:text-gray-600 gap-x-2"
                            @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                            onclick="addYear()"
                        >
                            <button class="py-2 text-sm font-semibold rounded-md hover:bg-opacity-75">
                                إضافة
                            </button>
                            <svg  class="font-bold fill-current" width="17" height="17" viewBox="0 0 24 24" focusable="false"><path d="M20 13h-7v7h-2v-7H4v-2h7V4h2v7h7v2z"></path></svg>
                        </span>
                    </div>
                </div>

                <!-- Months dropdown -->
                <div
                    x-data="{ dropdownOpen: false}"
                    @click.outside="dropdownOpen = false"
                    class="relative inline-block mx-3 text-right"
                >

                    <!-- Dropdown button -->
                    <button
                        @click="dropdownOpen = !dropdownOpen"
                        class="flex items-center px-5 py-3 font-semibold text-white bg-orange-400 rounded"
                    >
                        {{ current_month.title }}
                    <span class="pr-2">
                        <svg width="12" height="7" viewBox="0 0 12 7" class="fill-current">
                        <path
                            d="M0.564864 0.879232C0.564864 0.808624 0.600168 0.720364 0.653125 0.667408C0.776689 0.543843 0.970861 0.543844 1.09443 0.649756L5.82517 5.09807C5.91343 5.18633 6.07229 5.18633 6.17821 5.09807L10.9089 0.649756C11.0325 0.526192 11.2267 0.543844 11.3502 0.667408C11.4738 0.790972 11.4562 0.985145 11.3326 1.10871L6.60185 5.55702C6.26647 5.85711 5.73691 5.85711 5.41917 5.55702L0.670776 1.10871C0.600168 1.0381 0.564864 0.967492 0.564864 0.879232Z"
                        />
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M1.4719 0.229332L6.00169 4.48868L10.5171 0.24288C10.9015 -0.133119 11.4504 -0.0312785 11.7497 0.267983C12.1344 0.652758 12.0332 1.2069 11.732 1.50812L11.7197 1.52041L6.97862 5.9781C6.43509 6.46442 5.57339 6.47872 5.03222 5.96853C5.03192 5.96825 5.03252 5.96881 5.03222 5.96853L0.271144 1.50833C0.123314 1.3605 -5.04223e-08 1.15353 -3.84322e-08 0.879226C-2.88721e-08 0.660517 0.0936127 0.428074 0.253705 0.267982C0.593641 -0.0719548 1.12269 -0.0699964 1.46204 0.220873L1.4719 0.229332ZM5.41917 5.55702C5.73691 5.85711 6.26647 5.85711 6.60185 5.55702L11.3326 1.10871C11.4562 0.985145 11.4738 0.790972 11.3502 0.667408C11.2267 0.543844 11.0325 0.526192 10.9089 0.649756L6.17821 5.09807C6.07229 5.18633 5.91343 5.18633 5.82517 5.09807L1.09443 0.649756C0.970861 0.543844 0.776689 0.543843 0.653125 0.667408C0.600168 0.720364 0.564864 0.808624 0.564864 0.879232C0.564864 0.967492 0.600168 1.0381 0.670776 1.10871L5.41917 5.55702Z"
                        />
                        </svg>
                    </span>
                    </button>
                    <div
                        x-show="dropdownOpen"
                        x-transition:enter-start="opacity-0"
                        x-transition:enter-end="opacity-100"
                        x-transition:leave-start="opacity-100"
                        x-transition:leave-end="opacity-0"
                        :class="dropdownOpen ? 'top-full' : 'top-[110%]' "
                        class="absolute right-0 z-10 w-full mt-2 transition-all bg-white border rounded min-w-max"
                    >
                        {% for month in current_year.months.all %}
                            {% if month.id != current_month.id %}
                            <div
                                x-data="{ optionsOpen{{ month.id }}: false}"
                                class="relative flex items-center justify-between px-3 py-2 font-semibold gap-x-3 hover:bg-orange-400 hover:text-orange-400 hover:bg-opacity-5"
                            >
                                <a href="{% url 'main:profile' employee.group.id employee.id current_year.id month.id %}">
                                    {{ month.title }}
                                </a>

                                <!-- Options button -->
                                <div
                                    @click.outside="optionsOpen{{ month.id }} = false"
                                    @click="optionsOpen{{ month.id }} = !optionsOpen{{ month.id }}"
                                    class="text-orange-400 cursor-pointer"
                                >
                                    <div class="transition-all rounded-full hover:bg-gray-100">
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                        </svg>
                                    </div>
                                </div>

                                <!-- Options menu -->
                                <div 
                                    x-show="optionsOpen{{ month.id }}"
                                    x-transition:enter-start="opacity-0"
                                    x-transition:enter-end="opacity-100"
                                    x-transition:leave-start="opacity-100"
                                    x-transition:leave-end="opacity-0"
                                    :class="optionsOpen{{ month.id }} ? 'mt-5' : 'mt-0' "
                                    class="absolute z-10 mt-2 transition-all bg-white border rounded top-5 -left-7"
                                >
                                    <div 
                                        @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                        onclick="updateMonth(
                                            '{% url 'main:updateMonth' group.id month.id employee.id current_year.id current_month.id %}',
                                            '{{ month.title }}'
                                        )"
                                        class="flex items-center justify-start px-4 py-2 text-black cursor-pointer gap-x-2 hover:bg-gray-100"
                                    >
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path d="M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21 1 1 0 0 0 4 21zM18 4.41 19.59 6 18 7.59 16.42 6zM5.91 16.51 15 7.41 16.59 9l-9.1 9.1-2.11.52z"></path></svg>
                                        <span>تعديل</span>
                                    </div>
                                    <div 
                                        @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                        onclick="deleteMonth('{% url 'main:deleteMonth' group.id month.id %}')"
                                        class="flex items-center px-4 py-2 text-red-400 cursor-pointer gap-x-2 hover:bg-gray-100"
                                    >
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
                                        <span>حــذف</span>
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <span 
                                x-data="{ optionsOpen: false}"
                                class="relative flex items-center justify-between px-3 py-2 font-semibold text-orange-400 bg-orange-400 cursor-default bg-opacity-5"
                            >

                                {{ month.title }}

                                <!-- Options button -->
                                <div
                                    @click.outside="optionsOpen = false"
                                    @click="optionsOpen = !optionsOpen"
                                    class="text-orange-400 cursor-pointer"
                                >
                                    <div class="transition-all rounded-full hover:bg-gray-100">
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                        </svg>
                                    </div>
                                </div>

                                <!-- Options menu -->
                                <div 
                                    x-show="optionsOpen"
                                    x-transition:enter-start="opacity-0"
                                    x-transition:enter-end="opacity-100"
                                    x-transition:leave-start="opacity-100"
                                    x-transition:leave-end="opacity-0"
                                    :class="optionsOpen ? 'mt-5' : 'mt-0' "
                                    class="absolute z-10 mt-2 transition-all bg-white border rounded top-5 -left-7"
                                >
                                    <div 
                                        @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                        onclick="updateMonth(
                                            '{% url 'main:updateMonth' group.id month.id employee.id current_year.id current_month.id %}',
                                            '{{ month.title }}'
                                        )"
                                        class="flex items-center justify-start px-4 py-2 text-black cursor-pointer gap-x-2 hover:bg-gray-100"
                                    >
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path d="M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21 1 1 0 0 0 4 21zM18 4.41 19.59 6 18 7.59 16.42 6zM5.91 16.51 15 7.41 16.59 9l-9.1 9.1-2.11.52z"></path></svg>
                                        <span>تعديل</span>
                                    </div>
                                    <div 
                                        @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                        onclick="deleteMonth('{% url 'main:deleteMonth' group.id month.id %}')"
                                        class="flex items-center px-4 py-2 text-red-400 cursor-pointer gap-x-2 hover:bg-gray-100"
                                    >
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
                                        <span>حــذف</span>
                                    </div>
                                </div>
                            </span>
                            {% endif %}
                        {% endfor %}
                        <span
                            class="flex items-center justify-center py-2 text-black cursor-pointer hover:text-gray-600 gap-x-2"
                            @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                            onclick="addMonth()"
                        >
                            <button class="py-2 text-sm font-semibold rounded-md hover:bg-opacity-75">
                                إضافة
                            </button>
                            <svg  class="font-bold fill-current" width="17" height="17" viewBox="0 0 24 24" focusable="false"><path d="M20 13h-7v7h-2v-7H4v-2h7V4h2v7h7v2z"></path></svg>
                        </span>
                    </div>
                </div>                  
            </div>

            <button
                @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                class="flex items-center px-5 py-3 font-semibold text-white transition-all bg-orange-400 rounded hover:bg-opacity-75"
                onclick="addDay()"
            >
                إضافة يوم
                <span class="pr-2">
                    <svg  class="font-bold fill-current" width="20" height="20" viewBox="0 0 24 24" focusable="false"><path d="M20 13h-7v7h-2v-7H4v-2h7V4h2v7h7v2z"></path></svg>
                </span>
            </button>
        </div>



        <!-- Days table -->
        <div class="px-4 py-4 pt-10 pb-16 -mx-4 overflow-visible overflow-x-auto sm:-mx-8 sm:px-8">
            <div class="inline-block min-w-full overflow-visible rounded-lg shadow">
                <table class="min-w-full leading-normal">
                    <thead>
                        <tr>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                اليوم
                            </th>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                وقت الحضور
                            </th>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                وقت الانصراف
                            </th>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                الوقت الكلي
                            </th>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                مقدار الزيادة 
                            </th>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                مقدار النقيصة
                            </th>
                            <th
                                class="px-5 py-3 text-xs font-semibold text-right text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                الملاحظات
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for day in employee_days %}
                        <tr>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <p class="text-gray-900 whitespace-no-wrap">
                                    {% if day.title %}
                                        {{ day.title }}
                                    {% else %}
                                        بدون عنوان
                                    {% endif %}
                                </p>
                                {{ day.date_day }}/{{ day.date_month }}/{{ current_year.title }}
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <p class="text-gray-900 whitespace-no-wrap">
                                    الساعة 
                                    <span class="font-bold">{{ day.attend_hour }}</span>
                                     و 
                                    <span class="font-bold">{{ day.attend_minute }}</span>
                                    دقيقة
                                </p>
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <p class="text-gray-900 whitespace-no-wrap">
                                    الساعة 
                                    <span class="font-bold">{{ day.leave_hour }}</span>
                                     و 
                                    <span class="font-bold">{{ day.leave_minute }}</span>
                                    دقيقة
                                </p>
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <p class="text-gray-900 whitespace-no-wrap"> 
                                    <span class="font-bold">{{ day.total_hours }}</span>
                                    ساعة و 
                                    <span class="font-bold">{{ day.total_minutes }}</span>
                                    دقيقة
                                </p>
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <span class="relative inline-block px-3 py-1 font-semibold leading-tight text-green-900">
                                    <span class="absolute inset-0 bg-green-200 rounded-full opacity-50"></span>
                                    <span class="relative">
                                        <p class="text-gray-900 whitespace-no-wrap"> 
                                            <span class="font-bold">{{ day.more_hours }}</span>
                                            ساعة و 
                                            <span class="font-bold">{{ day.more_minutes }}</span>
                                            دقيقة
                                        </p>
                                    </span>
                                </span>
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <span class="relative inline-block px-3 py-1 font-semibold leading-tight text-red-900">
                                    <span class="absolute inset-0 bg-red-200 rounded-full opacity-50"></span>
                                    <span class="relative">
                                        <p class="text-gray-900 whitespace-no-wrap"> 
                                            <span class="font-bold">{{ day.less_hours }}</span>
                                            ساعة و 
                                            <span class="font-bold">{{ day.less_minutes }}</span>
                                            دقيقة
                                        </p>
                                    </span>
                                </span>
                            </td>
                            <td 
                                x-data="{ optionsOpen: false}"
                                @click.outside="optionsOpen = false"
                                class="relative px-5 py-5 border-b border-gray-200"
                            >
                                {% if day.note %}
                                <button 
                                    class="px-3 py-1 text-sm font-semibold text-white bg-orange-400 rounded-full hover:bg-opacity-75"
                                    @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                    onclick="showNote('{{ day.note|escapejs|safe }}')"
                                >
                                    عرض الملاحظات
                                </button>
                                {% endif %}
                                
                                <!-- Options button -->
                                <div
                                    @click="optionsOpen = !optionsOpen"
                                    class="absolute text-orange-400 cursor-pointer left-3 top-1/4"
                                >
                                    <div class="transition-all rounded-full hover:bg-gray-100">
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="2rem" width="2rem" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                        </svg>
                                    </div>
                                </div>

                                <!-- Options menu -->
                                <div 
                                    x-show="optionsOpen"
                                    x-transition:enter-start="opacity-0"
                                    x-transition:enter-end="opacity-100"
                                    x-transition:leave-start="opacity-100"
                                    x-transition:leave-end="opacity-0"
                                    :class="optionsOpen ? 'mt-5' : 'mt-0' "
                                    class="absolute z-10 mt-2 transition-all bg-white border rounded top-5 -left-7"
                                >
                                        <div 
                                            @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                            onclick="updateDay(
                                                '{% url 'main:updateDay' group.id day.id employee.id current_year.id current_month.id %}',
                                                '{{ day.title }}',
                                                '{{ day.attend_hour }}',
                                                '{{ day.attend_minute }}',
                                                '{{ day.leave_hour }}',
                                                '{{ day.leave_minute }}',
                                                '{{ day.date_day }}',
                                                '{{ day.date_month }}',
                                                '{% if day.not %}
                                                    {{ day.note|escapejs }}
                                                {% endif %}'
                                            )"
                                            class="flex items-center justify-start px-4 py-2 text-black cursor-pointer gap-x-2 hover:bg-gray-100"
                                        >
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path d="M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21 1 1 0 0 0 4 21zM18 4.41 19.59 6 18 7.59 16.42 6zM5.91 16.51 15 7.41 16.59 9l-9.1 9.1-2.11.52z"></path></svg>
                                            <span>تعديل</span>
                                        </div>
                                        <div 
                                            @click="modalOpen = true;$nextTick(() => { $refs.input.focus(); })"
                                            onclick="deleteDay('{% url 'main:deleteDay' group.id day.id employee.id current_year.id current_month.id %}')"
                                            class="flex items-center px-4 py-2 text-red-400 cursor-pointer gap-x-2 hover:bg-gray-100"
                                        >
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5rem" width="1.5rem" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
                                            <span>حــذف</span>
                                        </div>
                                </div>

                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                <p class="text-gray-900 whitespace-no-wrap">
                                    لا توجد بيانات.
                                </p>
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                
                            </td>
                            <td class="px-5 py-5 text-sm bg-white border-b border-gray-200">
                                
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Month & Year table -->
        <div class="flex items-center justify-start gap-10">
            <!-- Month results table -->
            <div class="flex justify-center px-4 py-4 mx-auto overflow-x-auto sm:-mx-8 sm:px-8">
                <div class="inline-block overflow-hidden rounded-lg shadow">
                    <table class="min-w-full leading-normal">
                        <thead>
                            <tr>
                                <th
                                    class="px-5 py-3 text-lg font-semibold text-center text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                    المجموع الشهري - {{ current_month.title }}
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="flex items-center px-5 py-5 text-sm bg-white border-b border-gray-200 gap-x-3">
                                    <p class="font-semibold">الزيادة بالوقت: </p>
                                    <span class="relative inline-block px-3 py-1 font-semibold leading-tight text-green-900">
                                        <span class="absolute inset-0 bg-green-200 rounded-full opacity-50"></span>
                                        <span class="relative">
                                            <p class="text-gray-900 whitespace-no-wrap"> 
                                                <span class="font-bold">{{ current_month.more_hours }}</span>
                                                ساعة و 
                                                <span class="font-bold">{{ current_month.more_minutes }}</span>
                                                دقيقة
                                            </p>
                                        </span>
                                    </span>
                                    
                                </td>
                            </tr>
                            
                            <tr>
                                <td class="flex items-center px-5 py-5 text-sm bg-white border-b border-gray-200 gap-x-3">
                                    <p class="font-semibold">النقيصة بالوقت: </p>
                                    <span class="relative inline-block px-3 py-1 font-semibold leading-tight text-red-900">
                                        <span class="absolute inset-0 bg-red-200 rounded-full opacity-50"></span>
                                        <span class="relative">
                                            <p class="text-gray-900 whitespace-no-wrap"> 
                                                <span class="font-bold">{{ current_month.less_hours }}</span>
                                                ساعة و 
                                                <span class="font-bold">{{ current_month.less_minutes }}</span>
                                                دقيقة
                                            </p>
                                        </span>
                                    </span>
                                </td>
                            </tr>
    
                        </tbody>
                    </table>
                </div>
            </div>
    
    
            <!-- Year results table -->
            <div class="flex justify-center px-4 py-4 mx-auto overflow-x-auto sm:-mx-8 sm:px-8">
                <div class="inline-block overflow-hidden rounded-lg shadow">
                    <table class="min-w-full leading-normal">
                        <thead>
                            <tr>
                                <th
                                    class="px-5 py-3 text-lg font-semibold text-center text-gray-600 bg-gray-100 border-b-2 border-gray-200">
                                    المجموع السنوي - {{ current_year.title }}
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="flex items-center px-5 py-5 text-sm bg-white border-b border-gray-200 gap-x-3">
                                    <p class="font-semibold">الزيادة بالوقت: </p>
                                    <span class="relative inline-block px-3 py-1 font-semibold leading-tight text-green-900">
                                        <span class="absolute inset-0 bg-green-200 rounded-full opacity-50"></span>
                                        <span class="relative">
                                            <p class="text-gray-900 whitespace-no-wrap"> 
                                                <span class="font-bold">{{ current_year.more_hours }}</span>
                                                ساعة و 
                                                <span class="font-bold">{{ current_year.more_minutes }}</span>
                                                دقيقة
                                            </p>
                                        </span>
                                    </span>
                                    
                                </td>
                            </tr>
                            
                            <tr>
                                <td class="flex items-center px-5 py-5 text-sm bg-white border-b border-gray-200 gap-x-3">
                                    <p class="font-semibold">النقيصة بالوقت: </p>
                                    <span class="relative inline-block px-3 py-1 font-semibold leading-tight text-red-900">
                                        <span class="absolute inset-0 bg-red-200 rounded-full opacity-50"></span>
                                        <span class="relative">
                                            <p class="text-gray-900 whitespace-no-wrap"> 
                                                <span class="font-bold">{{ current_year.less_hours }}</span>
                                                ساعة و 
                                                <span class="font-bold">{{ current_year.less_minutes }}</span>
                                                دقيقة
                                            </p>
                                        </span>
                                    </span>
                                </td>
                            </tr>
    
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    {% include "main/components/Modal.html" %}
</div>

<script>
    const modal = document.getElementById("modal")
    const date = new Date()

    // ADD
    function addYear(){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            إضافة سنة
        </h3>

        <form action={% url 'main:addYear' group.id %} method="POST">
            {% csrf_token %}
            <input
                class="w-full max-w-xl px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان السنة، 2023 مثلاً" 
                required=""
                x-ref="input"
                name="title"
            >
            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>

            <div class="flex flex-wrap justify-center mt-5 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="cursor-pointer block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function addMonth(){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            إضافة شهر إلى {{ current_year.title }}
        </h3>
    
        <form action={% url 'main:addMonth' group.id employee.id current_year.id current_month.id  %} method="POST">
            {% csrf_token %}
            <input
                class="w-full max-w-xl px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان الشهر، الشهر العاشر مثلاً" 
                required=""
                x-ref="input"
                name="title"
            >
            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="year" value="{{ current_year.id }}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>

            <div class="flex flex-wrap justify-center mt-5 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg cursor-pointer hover:bg-opacity-80"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function addDay(){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            إضافة يوم إلى {{ current_month.title }}
        </h3>

        <form class="flex flex-col gap-y-3" action={% url 'main:addDay' group.id employee.id current_year.id current_month.id %} method="POST">
            {% csrf_token %}
            <input
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان اليوم، الثلاثاء مثلاً" 
                required=""
                x-ref="input"
                name="title"
            >

            <div class="flex flex-col justify-center gap-3">
                <p class="font-semibold">وقت الحضور:</p>
                <div class="flex items-center justify-center gap-x-3">
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الساعة" 
                        required=""
                        name="attend_hour"
                    >
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الدقيقة" 
                        required=""
                        name="attend_minute"
                    >
                </div>
                
            </div>

            <div class="flex flex-col justify-center gap-3 items-right">
                <p class="font-semibold">وقت الانصراف:</p>
                <div class="flex items-center justify-center gap-x-3">
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الساعة" 
                        required=""
                        name="leave_hour"
                    >
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الدقيقة" 
                        required=""
                        name="leave_minute"
                    >
                </div>
            </div>

            <div class="flex flex-col justify-center gap-3 items-right">
                <p class="font-semibold">تاريخ اليوم: </p>
                <div class="flex items-center justify-center gap-x-3">
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        type="text" 
                        placeholder="اليوم" 
                        required=""
                        name="date_day"
                        value="{% now "d" %}"
                    >
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        type="text" 
                        placeholder="الشهر" 
                        required=""
                        name="date_month"
                        value="{% now "n" %}"
                    >
                </div>
            </div>
            
            <input class="w-full px-4 py-2 mt-3 border rounded-md resize-none h-28 focus:outline-none focus:ring" name="note" value="" placeholder="كتابة الملاحظات"></input>


            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="month" value="{{ current_month.id }}" hidden>
            <input class="hidden" name="year" value="{{ current_year.id }}" hidden>
            <input class="hidden" name="required_hours" value="{{ group.required_hours }}" hidden>
            <input class="hidden" name="required_minutes" value="{{ group.required_minutes }}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>
            <input class="hidden" name="total_hours" value="0" hidden>
            <input class="hidden" name="total_minutes" value="0" hidden>


            <p class="text-sm text-red-400">ملاحظة/ يجب أن يكون الوقت المدخل بنظام 24 ساعة.</p>
            <div class="flex flex-wrap justify-center mt-3 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg cursor-pointer hover:bg-opacity-80"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function showNote(note){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            الملاحظات
        </h3>
        <div>${note}</div>
        `
    }

    function addMonthBefore(url, yearId){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            يرجى إضافة شهر قبل الانتقال إلى السنة
        </h3>
    
        <form action="${url}" method="POST">
            {% csrf_token %}
            <input
                class="w-full max-w-xl px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان الشهر، الشهر العاشر مثلاً" 
                required=""
                x-ref="input"
                name="title"
            >
            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="year" value="${yearId}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>

            <div class="flex flex-wrap justify-center mt-5 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg cursor-pointer hover:bg-opacity-80"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }


    // UPDATE
    function updateYear(url, title){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            تعديل معلومات
        </h3>

        <form action="${url}" method="POST">
            {% csrf_token %}
            <input
                class="w-full max-w-xl px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان السنة، 2023 مثلاً" 
                required=""
                x-ref="input"
                name="title"
                value="${title}"
            >
            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>

            <div class="flex flex-wrap justify-center mt-5 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="cursor-pointer block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function updateMonth(url, title){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            تعديل معلومات
        </h3>
    
        <form action="${url}" method="POST">
            {% csrf_token %}
            <input
                class="w-full max-w-xl px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان الشهر، الشهر العاشر مثلاً" 
                required=""
                x-ref="input"
                name="title"
                value="${title}"
            >
            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="year" value="{{ current_year.id }}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>

            <div class="flex flex-wrap justify-center mt-5 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="cursor-pointer block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function updateDay(url, title, attend_hour, attend_minute, leave_hour, leave_minute, day, month, note){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            تعديل معلومات
        </h3>
    
        <form class="flex flex-col gap-y-3" action="${url}" method="POST">
            {% csrf_token %}
            <input
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                type="text" 
                placeholder="أدخل عنوان اليوم، الثلاثاء مثلاً" 
                required=""
                x-ref="input"
                name="title"
                value="${title}"
            >

            <div class="flex flex-col justify-center gap-3 items-right">
                <p class="font-semibold">وقت الحضور:</p>
                <div class="flex items-center justify-center gap-x-3">
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الساعة" 
                        required=""
                        name="attend_hour"
                        value="${attend_hour}"
                    >
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الدقيقة" 
                        required=""
                        name="attend_minute"
                        value="${attend_minute}"
                    >
                </div>
                
            </div>

            <div class="flex flex-col justify-center gap-3 items-right">
                <p class="font-semibold">وقت الانصراف:</p>
                <div class="flex items-center justify-center gap-x-3">
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الساعة" 
                        required=""
                        name="leave_hour"
                        value="${leave_hour}"
                    >
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        placeholder="الدقيقة" 
                        required=""
                        name="leave_minute"
                        value="${leave_minute}"
                    >
                </div>
            </div>

            <div class="flex flex-col justify-center gap-3 items-right">
                <p class="font-semibold">تاريخ اليوم:</p>
                <div class="flex items-center justify-center gap-x-3">
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        type="text" 
                        placeholder="اليوم" 
                        required=""
                        name="date_day"
                        value="${day}"
                    >
                    <input
                        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring" 
                        type="text" 
                        placeholder="الشهر" 
                        required=""
                        name="date_month"
                        value="${month}"
                    >
                </div>
            </div>
            
            <input class="w-full px-4 py-2 mt-3 border rounded-md resize-none h-28 focus:outline-none focus:ring" name="note" value="${note}" placeholder="كتابة الملاحظات">


            <input class="hidden" name="employee" value="{{ employee.id }}" hidden>
            <input class="hidden" name="month" value="{{ current_month.id }}" hidden>
            <input class="hidden" name="year" value="{{ current_year.id }}" hidden>
            <input class="hidden" name="required_hours" value="{{ group.required_hours }}" hidden>
            <input class="hidden" name="required_minutes" value="{{ group.required_minutes }}" hidden>
            <input class="hidden" name="more_hours" value="0" hidden>
            <input class="hidden" name="more_minutes" value="0" hidden>
            <input class="hidden" name="less_hours" value="0" hidden>
            <input class="hidden" name="less_minutes" value="0" hidden>
            <input class="hidden" name="total_hours" value="0" hidden>
            <input class="hidden" name="total_minutes" value="0" hidden>

            <p class="text-sm text-red-400">ملاحظة/ يجب أن يكون الوقت المدخل بنظام 24 ساعة.</p>
            
            <div class="flex flex-wrap justify-center mt-3 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="cursor-pointer block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }


    // DELETE
    function deleteYear(url){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            هل أنت متأكد؟
        </h3>

        <form class="flex flex-col gap-y-3" action="${url}" method="POST">
            {% csrf_token %}
            <div class="flex flex-wrap justify-center mt-3 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg cursor-pointer hover:bg-opacity-80"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function deleteMonth(url){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            هل أنت متأكد؟
        </h3>

        <form class="flex flex-col gap-y-3" action="${url}" method="POST">
            {% csrf_token %}
            <div class="flex flex-wrap justify-center mt-3 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg cursor-pointer hover:bg-opacity-80"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }

    function deleteDay(url){
        modal.innerHTML = 
        `<h3 class="pb-2 mb-3 text-xl font-bold text-dark sm:text-2xl">
            هل أنت متأكد؟
        </h3>

        <form class="flex flex-col gap-y-3" action="${url}" method="POST">
            {% csrf_token %}
            <div class="flex flex-wrap justify-center mt-3 -mx-3">
                <div class="w-1/6 px-3">
                    <p
                        @click="modalOpen = false"
                        class="block w-full p-3 text-base font-bold text-center text-white transition bg-red-600 border rounded-lg cursor-pointer hover:bg-opacity-80"
                    >
                        إلغاء
                    </p>
                </div>
                <div class="w-1/6 px-3">
                    <button
                        type="submit"
                        class="block w-full p-3 text-base font-bold text-center transition border rounded-lg hover:bg-opacity-80 bg-gray-100"
                    >
                        تم
                    </button>
                </div>
            </div>
        </form>`
    }
</script>


{% endblock %}